#library "command"
#include "../../compiler/lib/zcommon.h"

int NumMonsters;

function int GetCurrentMap(void)
{
    int strIndex = StrParam(n:PRINTNAME_LEVEL);
    int map = StrMid(strIndex, 0, 3);

    if (!StrIcmp(map, "CS0") || !StrIcmp(map, "CS2"))
    {
        return 1;
    }
    else if (!StrIcmp(map, "SC2"))
    {
        return 2;
    }
    else if (!StrIcmp(map, "MAY"))
    {
        return 3;
    }
    else if (!StrIcmp(map, "HC0") || !StrIcmp(map, "HC1"))
    {
        return 4;
    }
    else if (!StrIcmp(map, "VAL"))
    {
        return 5;
    }
    else if (!StrIcmp(map, "EP1") || !StrIcmp(map, "EP2"))
    {
        return 6;
    }
    else if (!StrIcmp(map, "AA1"))
    {
        return 7;
    }
    else if (!StrIcmp(map, "SD6") || !StrIcmp(map, "SD7"))
    {
        return 8;
    }

    return 0;
}

script "Maniac" (void)
{
    SetResultValue(GetCurrentMap());
}

script "CountMonsters" (void)
{
	NumMonsters++;
}

script "MaxTicLength" (void)
{
	SetResultValue(NumMonsters);
}

script "MonDiv1k" (void)
{
	SetResultValue(NumMonsters/1000);
}
