#library "command"
#include "../../compiler/lib/zcommon.h"

int currentMapset;

function int GetCurrentMapset(void)
{
    str mapset = StrLeft(StrParam(n:PRINTNAME_LEVEL), 3);

    if (!StrIcmp(mapset, "CS0") || !StrIcmp(mapset, "CS2"))
    {
        return 2;
    }
    else if (!StrIcmp(mapset, "SC2"))
    {
        return 3;
    }
    else if (!StrIcmp(mapset, "MAY"))
    {
        return 4;
    }
    else if (!StrIcmp(mapset, "HC0") || !StrIcmp(mapset, "HC1"))
    {
        return 5;
    }
    else if (!StrIcmp(mapset, "VAL"))
    {
        return 6;
    }
    else if (!StrIcmp(mapset, "EP1") || !StrIcmp(mapset, "EP2"))
    {
        return 7;
    }
    else if (!StrIcmp(mapset, "AA1"))
    {
        return 8;
    }
    else if (!StrIcmp(mapset, "SD6") || !StrIcmp(mapset, "SD7"))
    {
        return 9;
    }

    return 1;
}

script "Maniac" (void)
{
    if (!currentMapset)
    {
        currentMapset = GetCurrentMapset();
    }

    SetResultValue(currentMapset);
}